# mediamtx.yml

# Уровень логирования: info, debug, warn, error
logLevel: info

# RTMP-вход (для потоков от ffmpeg, OBS и т.д.)
rtmp: yes

# RTSP-выход (для клиентов типа VLC, ffmpeg и т.д.)
rtsp: yes

# WebRTC-выход (для браузеров)
webrtc:
  enabled: yes
  listenAddress: :8889
  iceServers:
    - urls:
        - stun:stun.l.google.com:19302

# HTTP API (для мониторинга и отладки)
api: yes
apiAddress: :9997

# Отключаем HLS, если он не нужен
hls: no

# Поведение по умолчанию для всех путей
paths:
  all:
    source: publisher # источник — ffmpeg или OBS через RTMP
    runOnDemandStartTimeout: 5s
    runOnDemandCloseAfter: 15s
    record: false
